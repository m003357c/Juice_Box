$(document).ready(function(){function f(a){var b=a.drinkId,c=a.name,d=a.image,f=a.ingredients,g=a.price,h=a.drinkClass,i='<article id="'+b+'" class="basket-item '+h+'"><span><img src="assets/images/basket-'+d+'.svg" alt="'+c+' Ingrediant Image"></span><span>'+c+"<br><small>"+f+'</small></span><span class="price">'+g+'</span><a class="remove-basket" href="#">x</a><br class="clear"></article>';""!==e[0]&&$(".basket #basket").append(i)}var a={drinkId:"citrusPunch",name:"Citrus Punch",image:"citrus",ingredients:"Grapefruit, Orange<br>&amp; Pineapple",description:"Grapefruit, Orange &amp; Pineapple",price:"&pound;2.50",drinkClass:"citrus-punch"},b={drinkId:"berryBlast",name:"Berry Blast",image:"berry",ingredients:"Apple, Grape, Blueberry<br>&amp; Raspberry",description:"Apple, Grape, Blueberry &amp; Raspberry",price:"&pound;2.50",drinkClass:"berry-blast"},c={drinkId:"greenMachine",name:"Green Machine",image:"green",ingredients:"Apple, Banana, Avocado,<br>Kiwi &amp; Lime",description:"Apple, Banana, Avocado, Kiwi &amp; Lime",price:"&pound;2.50",drinkClass:"green-machine"},d={drinkId:"simplyRed",name:"Simply Red",image:"red",ingredients:"Apple, Grape, Strawberry<br>&amp; Cherry",description:"Apple, Grape, Strawberry &amp; Cherry",price:"&pound;2.50",drinkClass:"simply-red"},e=JSON.parse(localStorage.getItem("basket"));JSON.parse(null==localStorage.getItem("basket"))&&(e=[],localStorage.setItem("basket",JSON.stringify(e)));var e=JSON.parse(localStorage.getItem("basket"));$(".drink-option").click(function(){switch(this.id){case"citrus-punch":$("#citrusProdInfo").addClass("isShowing");break;case"berry-blast":$("#berryProdInfo").addClass("isShowing");break;case"green-machine":$("#greenProdInfo").addClass("isShowing");break;case"simply-red":$("#redProdInfo").addClass("isShowing")}$("#menuItems, h1").toggleClass("blur")}),$("li.basket a .badge").is(":empty")&&$("li.basket a .badge").text("0"),$(".product-information .buy-now-btn").click(function(e){e.preventDefault();var f=this.getAttribute("href"),g=JSON.parse(localStorage.getItem("basket"));switch($(this).closest(".product-information").attr("id")){case"citrusProdInfo":g.push(a);break;case"berryProdInfo":g.push(b);break;case"greenProdInfo":g.push(c);break;case"redProdInfo":g.push(d)}localStorage.setItem("basket",JSON.stringify(g));var i=JSON.parse(localStorage.getItem("basket"));$("li.basket a .badge").css("display","inline-block").text(i.length),setTimeout(function(){window.location=f},300)}),$(".product-information .add-cart-btn").click(function(){var e=JSON.parse(localStorage.getItem("basket"));switch($(this).closest(".product-information").attr("id")){case"citrusProdInfo":e.push(a);break;case"berryProdInfo":e.push(b);break;case"greenProdInfo":e.push(c);break;case"redProdInfo":e.push(d)}localStorage.setItem("basket",JSON.stringify(e));var g=JSON.parse(localStorage.getItem("basket"));$("li.basket a .badge").css("display","inline-block").text(g.length),$("<aside class='notifcation'>You have added an item to your basket</aside>").prependTo("body").delay(2500).queue(function(){$(this).remove()})}),$(".close-btn").click(function(){$(this).parent().hasClass("isShowing")&&($(this).parent().addClass("hideElement"),$("#menuItems, h1").toggleClass("blur"),setTimeout(function(){$(".product-information").removeClass("isShowing"),$(".product-information").removeClass("hideElement")},500))});for(var g=0,h=e.length;g<h;g++)f(e[g]);0!==e.length&&$("li.basket a .badge").css("display","inline-block").text(e.length),$("#basket .basket-item").each(function(a){setTimeout(function(){$("#basket .basket-item").eq(a).addClass("is-showing")},150*(a+1))}),$(".remove-basket").click(function(){var a=JSON.parse(localStorage.getItem("basket")),b=$(this).parent().attr("id"),c=a.indexOf(-1!==b);a.indexOf(-1!==b)&&a.splice(c,1),localStorage.setItem("basket",JSON.stringify(a));var d=JSON.parse(localStorage.getItem("basket"));$(".basket-items").text(d.length),$(".basket-price").text("£"+2.5*d.length),$("li.basket a .badge").text(d.length),$(this).parent().removeClass("is-showing").delay(500).queue(function(){$(this).remove()})});var i=2.5*e.length;$(".basket-items").text(e.length),$(".cost, .basket-price").text("£"+i.toFixed(2)),$(".cash").click(function(){$(this).addClass("cash-animate-in animated").css("z-index","999").children(".card-inner").addClass("fade"),$(".wallet-inner").css("position","static"),$(".overlay").addClass("isShowing fade")}),$(".card").click(function(){$(this).hasClass("mobile")?$(this).addClass("mobile-animate-in"):$(this).hasClass("debit")?$(this).addClass("card-animate-in"):$(this).hasClass("paypal")&&$(this).addClass("paypal-animate-in"),$(this).addClass("animated").css("z-index","999").children(".card-inner").addClass("fade"),$(".wallet-inner").css("position","static"),$(".overlay").addClass("isShowing fade")}),$(".pay-screen .btn").click(function(){$(".overlay").hasClass("isShowing")&&($(".overlay").toggleClass("fade fadeOut"),setTimeout(function(){$(".overlay").removeClass("isShowing").removeClass("fadeOut")},1e3)),setTimeout(function(){$(".cash").hasClass("animated")?($(".cash").toggleClass("cash-animate-in cash-animate-out").attr("style","").delay(1e3).queue(function(a){$(".cash").attr("class","cash"),a()}),$(".wallet-inner").css("position","relative"),$(".card-inner").removeClass("fade")):$(".card.mobile").hasClass("animated")?($(".card.mobile").toggleClass("mobile-animate-in mobile-animate-out").attr("style","").delay(1e3).queue(function(a){$(".card.mobile").attr("class","card mobile"),a()}),$(".wallet-inner").css("position","relative"),$(".card-inner").removeClass("fade")):$(".card.debit").hasClass("animated")?($(".card.debit").toggleClass("card-animate-in card-animate-out").attr("style","").delay(1e3).queue(function(a){$(".card.debit").attr("class","card debit"),a()}),$(".wallet-inner").css("position","relative"),$(".card-inner").removeClass("fade")):$(".card.paypal").hasClass("animated")&&($(".card.paypal").toggleClass("paypal-animate-in paypal-animate-out").attr("style","").delay(1e3).queue(function(a){$(".card.paypal").attr("class","card paypal"),a()}),$(".wallet-inner").css("position","relative"),$(".card-inner").removeClass("fade"))},500)})});
